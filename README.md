# meta_block_gen
Abstracted block_gen. No specific logic. Just pure blocks.

 * Мотивация. Почему вообще есть этот модуль
   * Модульность в коде достаточно сложно поддерживать.
   * Не всегда можно легко вынуть какую-то часть и заменить её на другую (попробуй выкинуть из scriptscript hereregex, придется по 3-4 файлам полазить)
   * Не всегда можно указать другой параметр сборки (Привет флаги в gentoo)
   * Есть еще ПЛИСы. У них компоненты располагаются по логике модулей, которые нужно подключать друг с другом. И там прекрасная декомпозиция.
   * Почему нельзя собрать большого монстра из небольших (до 100 строк кода) кусочков, которые сгенерируют большой код. Иногда включая тесты.
 * Что есть в модуле
   * `Block` - то с чего мы всё строим
   * особый блок `Block` верхнего уровня, который не имеет `parent`
   * `Block_blueprint` - чертеж блока. По факту генератор, которому передаешь параметры, и он тебе генерирует блок.
   * Есть блоки, у которых уже сразу есть `child_list` и его менять нельзя.
   * Есть блоки, у которых можно вызвать `inject` и добавить туда `child`ren'ов
   * 
   
# Пример создания генератора нового блока

    parent = collection.auto_gen 'parent_test', /^parent_test$/, (ret)->
      ret.hash.param1 = true
      ret.compile_fn = ()->
        # some actions
      ret.flush_fn = ()->
        # some actions
      ret

# Пример создания нового блока

    parent = collection.gen 'parent_test'

# Пример `inject`

    parent = collection.gen 'parent_test'
    parent.inject ()->
      collection.gen 'child_test'
